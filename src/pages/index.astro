---
import Header from "../components/ui/Header.astro";
import Footer from "../components/ui/Footer.astro";
import ToolGrid from "../components/ui/ToolGrid.astro";
import CommandPaletteWrapper from "../components/ui/CommandPaletteWrapper";
import { tools, categoryNames } from "../lib/tools";
import "../styles/global.css";

const categories = [
  "workflow",
  "encode-decode",
  "format",
  "generate",
  "convert",
  "validate",
] as const;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DevUtils - Developer Tools</title>
    <meta
      name="description"
      content="Free online tools for developers. JSON formatter, Base64 encoder, UUID generator, and more. Fast, private, no sign-up required."
    />
    <link rel="canonical" href="https://devutils.tools/" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

    <meta property="og:type" content="website" />
    <meta property="og:title" content="DevUtils - Developer Tools" />
    <meta
      property="og:description"
      content="Free online tools for developers. Fast, private, no sign-up required."
    />
    <meta property="og:url" content="https://devutils.tools/" />

    <!-- Privacy-friendly analytics by Plausible -->
    <script async src="https://plausible.io/js/pa-F-hSQOF9Dt-AHio1EohBu.js"
    ></script>
    <script>
      ((window.plausible =
        window.plausible ||
        function () {
          (plausible.q = plausible.q || []).push(arguments);
        }),
        (plausible.init =
          plausible.init ||
          function (i) {
            plausible.o = i || {};
          }));
      plausible.init();
    </script>

    <script is:inline>
      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        document.documentElement.classList.add("dark");
      }
    </script>
  </head>
  <body
    class="flex min-h-dvh flex-col overflow-x-clip bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100"
  >
    <CommandPaletteWrapper client:load />
    <div class="guidelines" aria-hidden="true"></div>

    <!-- Top-left diagonal lines -->
    <div
      class="pointer-events-none fixed bottom-0 left-0 top-12 overflow-hidden"
      style="width:calc(50vw - 512px);"
      aria-hidden="true"
    >
      <svg class="h-full w-full">
        <pattern
          id="diag-tl"
          patternUnits="userSpaceOnUse"
          width="16"
          height="16"
          patternTransform="rotate(-45)"
        >
          <line
            x1="0"
            y1="0"
            x2="0"
            y2="16"
            class="stroke-neutral-200 dark:stroke-neutral-800"
            stroke-width="1"></line>
        </pattern>
        <rect width="100%" height="100%" fill="url(#diag-tl)"></rect>
      </svg>
    </div>

    <!-- Bottom-right diagonal lines -->
    <div
      class="pointer-events-none fixed bottom-0 right-0 top-12 overflow-hidden"
      style="width:calc(50vw - 512px);"
      aria-hidden="true"
    >
      <svg class="h-full w-full">
        <pattern
          id="diag-br"
          patternUnits="userSpaceOnUse"
          width="16"
          height="16"
          patternTransform="rotate(45)"
        >
          <line
            x1="0"
            y1="0"
            x2="0"
            y2="16"
            class="stroke-neutral-200 dark:stroke-neutral-800"
            stroke-width="1"></line>
        </pattern>
        <rect width="100%" height="100%" fill="url(#diag-br)"></rect>
      </svg>
    </div>
    <Header />

    <main class="mx-auto w-full max-w-5xl flex-1 px-6 py-16">
      <section class="pb-16">
        <h1 class="mb-4 text-4xl font-bold tracking-tight md:text-5xl">
          Developer tools.
        </h1>
        <p class="max-w-xl text-lg text-neutral-500 dark:text-neutral-400">
          Fast, free, private. Everything runs in your browser.
        </p>
      </section>

      {
        categories.map((category) => {
          const categoryTools = tools.filter((t) => t.category === category);
          if (categoryTools.length === 0) return null;

          return (
            <section class="relative -mx-[50vw] border-t border-neutral-200 px-[50vw] pb-16 pt-12 dark:border-neutral-800">
              <span
                class="absolute top-0 z-10 h-2 w-2 -translate-y-1/2 rotate-45 border border-neutral-400 bg-white dark:border-neutral-600 dark:bg-neutral-950"
                style="left:calc(50% - 512px - 4px);"
              />
              <span
                class="absolute top-0 z-10 h-2 w-2 -translate-y-1/2 rotate-45 border border-neutral-400 bg-white dark:border-neutral-600 dark:bg-neutral-950"
                style="right:calc(50% - 512px - 4px);"
              />
              <h2 class="mb-6 text-xs font-medium uppercase tracking-widest text-neutral-400 dark:text-neutral-500">
                {categoryNames[category]}
              </h2>
              <ToolGrid tools={categoryTools} />
            </section>
          );
        })
      }
    </main>

    <Footer />
  </body>
</html>
